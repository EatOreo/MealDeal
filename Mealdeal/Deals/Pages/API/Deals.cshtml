@page "/api/deals"
@using Deals
@model Deals.Pages.Deals
@inject DealService dealService

@{
    Layout = null;
}

@foreach(var deal in await dealService.GetDealsFromShop("netto", Model.Search?? "", 5))
{
    <div>
        <h3>@deal.Name</h3>
        <p>@deal.Price kr</p>
        <p> @(Math.Abs(deal.UnitsFrom - deal.UnitsTo) < 0.1 ? $"{deal.UnitsFrom}" : $"{deal.UnitsFrom} - {deal.UnitsTo}") @deal.UnitType</p>
        <img src="@deal.SmallImage"/>
    </div>
}